#pragma once
#if !defined( __RENDER_CONTEXT__ )
#define __RENDER_CONTEXT__

/************************************************************************/
/*                                                                      */
/* INCLUDE                                                              */
/*                                                                      */
/************************************************************************/
#include "core/rgba.h"
#include "render/rhi/dx11.h"
#include "render/rhi/rhidevice.h"

/************************************************************************/
/*                                                                      */
/* DEFINES AND CONSTANTS                                                */
/*                                                                      */
/************************************************************************/

/************************************************************************/
/*                                                                      */
/* MACROS                                                               */
/*                                                                      */
/************************************************************************/

/************************************************************************/
/*                                                                      */
/* TYPES                                                                */
/*                                                                      */
/************************************************************************/
class RHIInstance;  // System level singleton
class RHIDevice;     // physical GPU
class RHIDeviceContext;    // Potential Display/Background worker
class RHIOutput;
class Texture2D;

/************************************************************************/
/*                                                                      */
/* STRUCTS                                                              */
/*                                                                      */
/************************************************************************/

/************************************************************************/
/*                                                                      */
/* CLASSES                                                              */
/*                                                                      */
/************************************************************************/

//------------------------------------------------------------------------
//------------------------------------------------------------------------
// Specific State for Rendering
class RHIDeviceContext 
{
   public:
      RHIDeviceContext( RHIDevice *owner, ID3D11DeviceContext *ctx );
      ~RHIDeviceContext();

      void clear_state();
      void flush();

      void clear_color_target( Texture2D *output, rgba_fl const &color );

   public:
      ID3D11DeviceContext *dx_context;
      RHIDevice *device;
};




/************************************************************************/
/*                                                                      */
/* GLOBAL VARIABLES                                                     */
/*                                                                      */
/************************************************************************/

/************************************************************************/
/*                                                                      */
/* FUNCTION PROTOTYPES                                                  */
/*                                                                      */
/************************************************************************/


#endif 
